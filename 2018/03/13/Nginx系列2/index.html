<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>Nginx系列(2)安装 | Jerry&#39;s Bolg | 2B青年欢乐多</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Linux,Nginx">
    <meta name="description" content="Nginx安装1. windows安装官方网站下载地址：https://nginx.org/en/download.html 如下图所示，下载对应的版本的nginx压缩包，解压到自己电脑上存放软件的文件夹中即可                                                                                             图1">
<meta name="keywords" content="Linux,Nginx">
<meta property="og:type" content="article">
<meta property="og:title" content="Nginx系列(2)安装">
<meta property="og:url" content="http://oleaster.cn/2018/03/13/Nginx系列2/index.html">
<meta property="og:site_name" content="Jerry&#39;s Bolg">
<meta property="og:description" content="Nginx安装1. windows安装官方网站下载地址：https://nginx.org/en/download.html 如下图所示，下载对应的版本的nginx压缩包，解压到自己电脑上存放软件的文件夹中即可                                                                                             图1">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/6.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/7.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/8.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/9.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/10.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/11.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/12.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/13.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/14.png">
<meta property="og:updated_time" content="2018-04-09T07:44:24.240Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nginx系列(2)安装">
<meta name="twitter:description" content="Nginx安装1. windows安装官方网站下载地址：https://nginx.org/en/download.html 如下图所示，下载对应的版本的nginx压缩包，解压到自己电脑上存放软件的文件夹中即可                                                                                             图1">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/6.png">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
	
	
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Q·Man</h5>
          <a href="mailto:pinggrubby@hotmail.com" title="pinggrubby@hotmail.com" class="mail">pinggrubby@hotmail.com</a>
			<h6 class="subtitle">
				2B青年欢乐多
			</h6>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章列表
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                类目
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.kernel.org/" target="_blank" >
                <i class="icon icon-lg icon-linux"></i>
                Linux Kernel
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.centos.org/" target="_blank" >
                <i class="icon icon-lg icon-server"></i>
                Centos
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.debian.org/" target="_blank" >
                <i class="icon icon-lg icon-tint"></i>
                Debian
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.ubuntu.com/index_kylin" target="_blank" >
                <i class="icon icon-lg icon-braille"></i>
                Ubuntu
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.redhat.com/zh" target="_blank" >
                <i class="icon icon-lg icon-cube"></i>
                RerHat
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://distrowatch.com/" target="_blank" >
                <i class="icon icon-lg icon-list-ol"></i>
                Linux排行
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://nginx.org/" target="_blank" >
                <i class="icon icon-lg icon-google"></i>
                Nginx
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.gnu.org/licenses/licenses.html" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                GPL
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/more"  >
                <i class="icon icon-lg icon-codepen"></i>
                更多
				
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-address-card"></i>
                关于
				
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Nginx系列(2)安装</div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Nginx系列(2)安装</h1>
       
    </div>

    

<div id="player8" class="aplayer"></div>
</header>


<div class="container body-wrap">
    
<link rel="stylesheet" href="/css/APlayer.min.css?v=1.7.2">

    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Nginx安装"><span class="post-toc-number">1.</span> <span class="post-toc-text">Nginx安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-windows安装"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1. windows安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-ubuntu安装"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2. ubuntu安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-mac-os安装"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3. mac os安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-CentOS-7下安装部署"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">4.CentOS 7下安装部署</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-Nginx手动安装"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">5.Nginx手动安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-选定源码目录"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">1.选定源码目录</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-安装PCRE库"><span class="post-toc-number">1.5.2.</span> <span class="post-toc-text">2.安装PCRE库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-安装zlib库"><span class="post-toc-number">1.5.3.</span> <span class="post-toc-text">3.安装zlib库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-安装ssl"><span class="post-toc-number">1.5.4.</span> <span class="post-toc-text">4.安装ssl</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-安装Nginx"><span class="post-toc-number">1.5.5.</span> <span class="post-toc-text">5.安装Nginx</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-启动"><span class="post-toc-number">1.5.6.</span> <span class="post-toc-text">6.启动</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#安装排错"><span class="post-toc-number">2.</span> <span class="post-toc-text"> 安装排错 </span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#编译pcre错误"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">编译pcre错误</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#make出错"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">make出错</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#启用的模块"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">启用的模块</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#nginx编译选项"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">nginx编译选项</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#nginx添加模块"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">nginx添加模块</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-Nginx系列2"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Nginx系列(2)安装</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-03-13 10:46:12" datetime="2018-03-13T02:46:12.000Z"  itemprop="datePublished">2018-03-13</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Web/">Web</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="Nginx安装"><a href="#Nginx安装" class="headerlink" title="Nginx安装"></a>Nginx安装</h1><h2 id="1-windows安装"><a href="#1-windows安装" class="headerlink" title="1. windows安装"></a>1. windows安装</h2><p>官方网站下载地址：<br><a href="https://nginx.org/en/download.html" target="_blank" rel="noopener">https://nginx.org/en/download.html</a></p>
<p>如下图所示，下载对应的版本的nginx压缩包，解压到自己电脑上存放软件的文件夹中即可<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/6.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure><br>解压完成后，文件目录结构如下：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/7.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure></p>
<p><strong> 启动nginx </strong></p>
<p>1） 直接双击该目录下的nginx.exe，即可启动nginx服务器</p>
<p>2） 命令行计入该文件夹，执行nginx命令，也会直接启动nginx服务器</p>
<blockquote>
<p>D:/resp_application/nginx-1.13.5&gt; nginx</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/8.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure>
<p><strong> 访问nginx </strong></p>
<p>打开浏览器，输入地址：<a href="http://localhost" target="_blank" rel="noopener">http://localhost</a>  ，访问页面，出现如下页面表示访问成功<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/9.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure></p>
<p><strong> 停止nginx </strong></p>
<p>命令行进入nginx根目录，执行如下命令，停止服务器：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 强制停止nginx服务器，如果有未处理的数据，丢弃</span><br><span class="line">D:/resp_application/nginx-1.13.5&gt; nginx -s stop</span><br><span class="line"></span><br><span class="line"># 优雅的停止nginx服务器，如果有未处理的数据，等待处理完成之后停止</span><br><span class="line">D:/resp_application/nginx-1.13.5&gt; nginx -s quit</span><br></pre></td></tr></table></figure></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/10.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure>
<hr>
<h2 id="2-ubuntu安装"><a href="#2-ubuntu安装" class="headerlink" title="2. ubuntu安装"></a>2. ubuntu安装</h2><p>按照正常软件的安装方式，直接通过如下命令进行安装：</p>
<blockquote>
<p>$ sudo apt-get install nginx</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/11.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure>
<p>安装完成即可，在/usr/sbin/目录下是nginx命令所在目录，在/etc/nginx/目录下是nginx所有的配置文件，用于配置nginx服务器以及负载均衡等信息</p>
<p><strong>查看nginx进程是否启动</strong></p>
<blockquote>
<p>$ ps -ef|grep nginx</p>
</blockquote>
<p>nginx会自动根据当前主机的CPU的内核数目创建对应的进程数量(当前ubuntu主机是2核4线程配置)<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/12.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure></p>
<p><code>备注</code>这里启动的服务进程其实是4个进程，因为nginx进程在启动的时候，会附带一个守护进程，用于保护正式进程不被异常终止；<br>如果守护进程一旦返现nginx继承被终止了，会自动重启该进程。守护进程一般会称为master进程，业务进程被称为worker进程</p>
<p><strong> 启动nginx服务器命令</strong><br>直接执行nginx会按照默认的配置文件进行服务器的启动</p>
<blockquote>
<p>$ nginx</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/13.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure>
<p><strong> 停止nginx服务命令</strong></p>
<p>和windows系统执行过程一样，两种停止方式</p>
<blockquote>
<p>$ nginx -s stop<br>or<br>$ nginx -s quit</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/Jerryping/BolgImage/master/nginx/14.png" alt="图1" title="">
                </div>
                <div class="image-caption">图1</div>
            </figure>
<p>重新启动加载</p>
<p>同样也可以使用命令reopen和reload来重新启动nginx或者重新加载配合着文件。</p>
<hr>
<h2 id="3-mac-os安装"><a href="#3-mac-os安装" class="headerlink" title="3. mac os安装"></a>3. mac os安装</h2><p>直接通过brew进行nginx的安装，或者下载tar.gz压缩包都是可以的。</p>
<p>直接通过brew进行安装</p>
<blockquote>
<p>brew install nginx</p>
</blockquote>
<p>安装完成后，后续的命令操作，服务器的启动、进程查看、服务器的停止、服务器的重启已经文件加载命令都是一致的。</p>
<hr>
<h2 id="4-CentOS-7下安装部署"><a href="#4-CentOS-7下安装部署" class="headerlink" title="4.CentOS 7下安装部署"></a>4.CentOS 7下安装部署</h2><p>配置epel yum 源</p>
<blockquote>
<p>wget <a href="http://dl.Fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm" target="_blank" rel="noopener">http://dl.Fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</a><br>rpm -ivh epel-release-latest-7.noarch.rpm<br>yum install nginx -y</p>
</blockquote>
<p>查看确认 是否安装</p>
<blockquote>
<p>[root@localhost ~]# rpm -qa | grep nginx</p>
</blockquote>
<p>查看 安装nginx 所生成的文件 </p>
<blockquote>
<p>[root@localhost ~]# rpm -ql nginx </p>
</blockquote>
<p>启动nginx  </p>
<blockquote>
<p>systemctl start nginx</p>
</blockquote>
<p>设置开机启动 </p>
<blockquote>
<p>systemctl enable nginx</p>
</blockquote>
<p>查看nginx 启动状态</p>
<blockquote>
<p>systemctl status nginx</p>
</blockquote>
<p>停止开机自启动</p>
<blockquote>
<p>systemctl disable nginx</p>
</blockquote>
<p>重新启动服务</p>
<blockquote>
<p>systemctl restart nginx</p>
</blockquote>
<p>查看所有已启动的服务</p>
<blockquote>
<p>systemctl list-units –type=service</p>
</blockquote>
<p><code>备注</code>centos 7以上是用Systemd进行系统初始化的，Systemd服务文件以.service结尾，yum命令会自动创建nginx.service文件,如果手动安装须手动创建<br>上面所有缩写也可写成 systemctl status nginx.service, nginx.service 默认位置 /lib/systemd/system/nginx.service.<br>内容如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit] </span><br><span class="line">Description=nginx </span><br><span class="line">After=network.target </span><br><span class="line"> </span><br><span class="line">[Service] </span><br><span class="line">Type=forking </span><br><span class="line">ExecStart=/usr/local/nginx/sbin/nginx </span><br><span class="line">ExecReload=/usr/local/nginx/sbin/nginx -s reload </span><br><span class="line">ExecStop=/usr/local/nginx/sbin/nginx -s quit</span><br><span class="line">PrivateTmp=true </span><br><span class="line"> </span><br><span class="line">[Install] </span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Description:描述服务<br>After:描述服务类别<br>[Service]服务运行参数的设置<br>Type=forking是后台运行的形式<br>ExecStart为服务的具体运行命令<br>ExecReload为重启命令<br>ExecStop为停止命令<br>PrivateTmp=True表示给服务分配独立的临时空间<br>注意：[Service]的启动、重启、停止命令全部要求使用绝对路径<br>[Install]运行级别下服务安装的相关设置，可设置为多用户，即系统运行级别为3</p>
</blockquote>
<p>查看是否监听</p>
<blockquote>
<p>ss -tnl | grep 80 </p>
</blockquote>
<p><code>备注</code>如果不能正常访问，关闭防火墙</p>
<blockquote>
<p>systemctl stop firewalld.service #停止firewall<br>systemctl disable firewalld.service #禁止firewall开机启动<br>firewall-cmd –state #查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</p>
</blockquote>
<hr>
<h2 id="5-Nginx手动安装"><a href="#5-Nginx手动安装" class="headerlink" title="5.Nginx手动安装"></a>5.Nginx手动安装</h2><p>nginx可以使用各平台的默认包来安装，下面介绍使用源码编译安装，包括具体的编译参数信息。</p>
<p>正式开始前，编译环境gcc g++ 开发库之类的需要提前装好，这里默认你已经装好。</p>
<ul>
<li>ububtu平台编译环境可以使用以下指令</li>
</ul>
<blockquote>
<p>apt-get install build-essential<br>apt-get install libtool</p>
</blockquote>
<ul>
<li><p>centos平台编译环境使用如下指令</p>
<ol>
<li><p>安装make：</p>
<blockquote>
<p>yum -y install gcc automake autoconf libtool make</p>
</blockquote>
</li>
<li><p>安装g++:</p>
<blockquote>
<p>yum install gcc gcc-c++</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<hr>
<font color="#0099ff" size="12" face="黑体">下面正式开始</font>

<ol>
<li>pcre：用于支持rewrite模块</li>
<li>zlib：用于支持gzip模块</li>
<li>openssl：用于支持ssl功能</li>
</ol>
<h3 id="1-选定源码目录"><a href="#1-选定源码目录" class="headerlink" title="1.选定源码目录"></a>1.选定源码目录</h3><p>可以是任何目录，本文选定的是/usr/local/src</p>
<blockquote>
<p>cd /usr/local/src</p>
</blockquote>
<h3 id="2-安装PCRE库"><a href="#2-安装PCRE库" class="headerlink" title="2.安装PCRE库"></a>2.安装PCRE库</h3><p><a href="ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/" target="_blank" rel="noopener">ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/</a> 下载最新的 PCRE 源码包，使用下面命令下载编译和安装 PCRE 包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src</span><br><span class="line">wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.41.tar.gz</span><br><span class="line">tar zxvf pcre-8.41.tar.gz</span><br><span class="line">cd pcre-8.41</span><br><span class="line">./configure --prefix=/opt/local/pcre-8.41 ;</span><br><span class="line">make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure>
<h3 id="3-安装zlib库"><a href="#3-安装zlib库" class="headerlink" title="3.安装zlib库"></a>3.安装zlib库</h3><p><a href="http://zlib.net/zlib-1.2.11.tar.gz" target="_blank" rel="noopener">http://zlib.net/zlib-1.2.11.tar.gz</a> 下载最新的 zlib 源码包，使用下面命令下载编译和安装 zlib包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src</span><br><span class="line">wget http://zlib.net/zlib-1.2.11.tar.gz</span><br><span class="line">tar -zxvf zlib-1.2.11.tar.gz</span><br><span class="line">cd zlib-1.2.11</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<h3 id="4-安装ssl"><a href="#4-安装ssl" class="headerlink" title="4.安装ssl"></a>4.安装ssl</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src</span><br><span class="line">wget https://www.openssl.org/source/openssl-1.0.2n.tar.gz</span><br><span class="line">tar -zxvf openssl-1.0.2n.tar.gz</span><br><span class="line">cd openssl-1.0.2n</span><br><span class="line">./config</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<h3 id="5-安装Nginx"><a href="#5-安装Nginx" class="headerlink" title="5.安装Nginx"></a>5.安装Nginx</h3><p>Nginx 一般有两个版本，分别是稳定版和开发版，您可以根据您的目的来选择这两个版本的其中一个，下面是把 Nginx 安装到 /usr/local/nginx 目录下的详细步骤：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src</span><br><span class="line">wget http://nginx.org/download/nginx-1.12.2.tar.gz</span><br><span class="line">tar -zxvf nginx-1.12.2.tar.gz </span><br><span class="line">mv nginx-1.12.2 nginx</span><br><span class="line">cd nginx/</span><br><span class="line"></span><br><span class="line">./configure \</span><br><span class="line">--prefix=/usr/local/nginx \</span><br><span class="line">--sbin-path=/usr/sbin/nginx \</span><br><span class="line">--conf-path=/etc/nginx/nginx.conf \</span><br><span class="line">--pid-path=/run/nginx.pid \</span><br><span class="line">--http-client-body-temp-path=/var/lib/nginx/body \</span><br><span class="line">--http-fastcgi-temp-path=/var/lib/nginx/fastcgi \</span><br><span class="line">--http-proxy-temp-path=/var/lib/nginx/proxy \</span><br><span class="line">--http-scgi-temp-path=/var/lib/nginx/scgi \</span><br><span class="line">--http-uwsgi-temp-path=/var/lib/nginx/uwsgi \</span><br><span class="line">--with-http_ssl_module \</span><br><span class="line">--with-http_realip_module \</span><br><span class="line">--with-http_stub_status_module \</span><br><span class="line">--with-pcre=/usr/local/src/pcre-8.41 \</span><br><span class="line">--with-zlib=/usr/local/src/zlib-1.2.11 \</span><br><span class="line">--with-openssl=/usr/local/src/openssl-1.0.2n</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>--with-pcre=/usr/local/src/pcre-8.41 指的是pcre-8.41 的源码路径。<br>--with-zlib=/usr/local/src/zlib-1.2.11 指的是zlib-1.2.11 的源码路径。<br>--with-openssl=/usr/local/src/openssl-1.0.2n 指的是openssl-1.0.2n 的源码路径。<br>pcre、openssl的安装路径在/opt/local，但这里只需要源码路径</p>
<p>赋予普通用户操作权限</p>
<blockquote>
<p>sudo chmod u+s /usr/local/nginx/nginx</p>
</blockquote>
<p>安装成功后 /usr/local/nginx 目录下如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fastcgi.conf            koi-win             nginx.conf.default</span><br><span class="line">fastcgi.conf.default    logs                scgi_params</span><br><span class="line">fastcgi_params          mime.types          scgi_params.default</span><br><span class="line">fastcgi_params.default  mime.types.default  uwsgi_params</span><br><span class="line">html                    nginx               uwsgi_params.default</span><br><span class="line">koi-utf                 nginx.conf          win-utf</span><br></pre></td></tr></table></figure>
<h3 id="6-启动"><a href="#6-启动" class="headerlink" title="6.启动"></a>6.启动</h3><p>确保系统的 80 端口没被其他程序占用，运行/usr/local/nginx/nginx 命令来启动 Nginx，</p>
<blockquote>
<p>netstat -ano|grep 80</p>
</blockquote>
<p>如果查不到结果后执行，以下步骤（ubuntu下必须用sudo启动，不然只能在前台运行）</p>
<blockquote>
<p>sudo /usr/local/nginx/nginx</p>
</blockquote>
<p>打开浏览器访问此机器的 IP，如果浏览器出现 <strong> Welcome to nginx! </strong> 则表示 Nginx 已经安装并运行成功。<br>到这里nginx就安装完成了，如果只是处理静态html就不用继续安装了</p>
<hr>
<h1 id="安装排错"><a href="#安装排错" class="headerlink" title=" 安装排错 "></a><strong> 安装排错 </strong></h1><p><strong> 附 </strong>:可能遇到的错误和一些帮助信息</p>
<h2 id="编译pcre错误"><a href="#编译pcre错误" class="headerlink" title="编译pcre错误"></a>编译pcre错误</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">libtool: compile: unrecognized option `-DHAVE_CONFIG_H&apos;</span><br><span class="line">libtool: compile: Try `libtool --help&apos; for more information.</span><br><span class="line">make[1]: *** [pcrecpp.lo] Error 1</span><br><span class="line">make[1]: Leaving directory `/usr/local/src/pcre-8.34&apos;</span><br><span class="line">make: *** [all] Error 2</span><br></pre></td></tr></table></figure>
<p>解决办法：安装g++,别忘了重新configure<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt-get install g++</span><br><span class="line">apt-get install build-essential</span><br><span class="line">make clean</span><br><span class="line">./configure</span><br><span class="line">make</span><br></pre></td></tr></table></figure></p>
<h2 id="make出错"><a href="#make出错" class="headerlink" title="make出错"></a>make出错</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">make: *** No rule to make target `build&apos;, needed by `default&apos;.  Stop.</span><br><span class="line">./configure: error: SSL modules require the OpenSSL library.</span><br><span class="line">You can either do not enable the modules, or install the OpenSSL library</span><br><span class="line">into the system, or build the OpenSSL library statically from the source</span><br><span class="line">with nginx by using --with-openssl=&lt;path&gt; option.</span><br></pre></td></tr></table></figure>
<p>按照第4步的安装方法或</p>
<ul>
<li>ubuntu下<blockquote>
<p>apt-get install openssl<br>apt-get install libssl-dev</p>
</blockquote>
</li>
<li>centos下<blockquote>
<p>yum -y install openssl openssl-devel</p>
</blockquote>
</li>
</ul>
<h2 id="启用的模块"><a href="#启用的模块" class="headerlink" title="启用的模块"></a>启用的模块</h2><p>切换到解压后的nginx目录中执行：</p>
<blockquote>
<p>./configure –prefix=/opt/demo/nginx –add-module=/home/fastdfs-nginx-module/src  –with-http_stub_status_module –with-http_ssl_module</p>
</blockquote>
<p>可能出现的错误：<br>出现：./configure:  error: the HTTP rewrite module requires the PCRE library.</p>
<pre><code>解决方法：yum -y install pcre-devel
</code></pre><p>出现：SSL modules require the OpenSSL library</p>
<pre><code>解决方法：yum install openssl-devel 
</code></pre><p><code>特别注意：</code><br>在已安装的nginx上进行添加模块的话执行到这里就行了，把objs中的nginx替换掉之前的安装的nginx/sbin/中的nginx文件，然后重启nginx就行了，如果执行下一步的install，会导致之前安装的nginx被覆盖，比如之前配置好的nginx.conf文件</p>
<h2 id="nginx编译选项"><a href="#nginx编译选项" class="headerlink" title="nginx编译选项"></a>nginx编译选项</h2><p>make是用来编译的，它从Makefile中读取指令，然后编译。</p>
<p>make install是用来安装的，它也从Makefile中读取指令，安装到指定的位置。</p>
<p>configure命令是用来检测你的安装平台的目标特征的。它定义了系统的各个方面，包括nginx的被允许使用的连接处理的方法，比如它会检测你是不是有CC或GCC，并不是需要CC或GCC，它是个shell脚本，执行结束时，它会创建一个Makefile文件。nginx的configure命令支持以下参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">--prefix=path    定义一个目录，存放服务器上的文件 ，也就是nginx的安装目录。默认使用 /usr/local/nginx。</span><br><span class="line">--sbin-path=path 设置nginx的可执行文件的路径，默认为  prefix/sbin/nginx.</span><br><span class="line">--conf-path=path  设置在nginx.conf配置文件的路径。nginx允许使用不同的配置文件启动，通过命令行中的-c选项。默认为prefix/conf/nginx.conf.</span><br><span class="line">--pid-path=path  设置nginx.pid文件，将存储的主进程的进程号。安装完成后，可以随时改变的文件名 ， 在nginx.conf配置文件中使用 PID指令。默认情况下，文件名 为prefix/logs/nginx.pid.</span><br><span class="line">--error-log-path=path 设置主错误，警告，和诊断文件的名称。安装完成后，可以随时改变的文件名 ，在nginx.conf配置文件中 使用 的error_log指令。默认情况下，文件名 为prefix/logs/error.log.</span><br><span class="line">--http-log-path=path  设置主请求的HTTP服务器的日志文件的名称。安装完成后，可以随时改变的文件名 ，在nginx.conf配置文件中 使用 的access_log指令。默认情况下，文件名 为prefix/logs/access.log.</span><br><span class="line">--user=name  设置nginx工作进程的用户。安装完成后，可以随时更改的名称在nginx.conf配置文件中 使用的 user指令。默认的用户名是nobody。</span><br><span class="line">--group=name  设置nginx工作进程的用户组。安装完成后，可以随时更改的名称在nginx.conf配置文件中 使用的 user指令。默认的为非特权用户。</span><br><span class="line">--with-select_module --without-select_module 启用或禁用构建一个模块来允许服务器使用select()方法。该模块将自动建立，如果平台不支持的kqueue，epoll，rtsig或/dev/poll。</span><br><span class="line">--with-poll_module --without-poll_module 启用或禁用构建一个模块来允许服务器使用poll()方法。该模块将自动建立，如果平台不支持的kqueue，epoll，rtsig或/dev/poll。</span><br><span class="line">--without-http_gzip_module — 不编译压缩的HTTP服务器的响应模块。编译并运行此模块需要zlib库。</span><br><span class="line">--without-http_rewrite_module  不编译重写模块。编译并运行此模块需要PCRE库支持。</span><br><span class="line">--without-http_proxy_module — 不编译http_proxy模块。</span><br><span class="line">--with-http_ssl_module — 使用https协议模块。默认情况下，该模块没有被构建。建立并运行此模块的OpenSSL库是必需的。</span><br><span class="line">--with-pcre=path — 设置PCRE库的源码路径。PCRE库的源码（版本4.4 - 8.30）需要从PCRE网站下载并解压。其余的工作是Nginx的./ configure和make来完成。正则表达式使用在location指令和 ngx_http_rewrite_module 模块中。</span><br><span class="line">--with-pcre-jit —编译PCRE包含“just-in-time compilation”（1.1.12中， pcre_jit指令）。</span><br><span class="line">--with-zlib=path —设置的zlib库的源码路径。要下载从 zlib（版本1.1.3 - 1.2.5）的并解压。其余的工作是Nginx的./ configure和make完成。ngx_http_gzip_module模块需要使用zlib 。</span><br><span class="line">--with-cc-opt=parameters — 设置额外的参数将被添加到CFLAGS变量。例如,当你在FreeBSD上使用PCRE库时需要使用:--with-cc-opt=&quot;-I /usr/local/include。.如需要需要增加 select()支持的文件数量:--with-cc-opt=&quot;-D FD_SETSIZE=2048&quot;.</span><br><span class="line">--with-ld-opt=parameters —设置附加的参数，将用于在链接期间。例如，当在FreeBSD下使用该系统的PCRE库,应指定:--with-ld-opt=&quot;-L /usr/local/lib&quot;.</span><br></pre></td></tr></table></figure></p>
<p>典型实例(下面为了展示需要写在多行，执行时内容需要在同一行)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">    --sbin-path=/usr/local/nginx/nginx</span><br><span class="line">    --conf-path=/usr/local/nginx/nginx.conf</span><br><span class="line">    --pid-path=/usr/local/nginx/nginx.pid</span><br><span class="line">    --with-http_ssl_module</span><br><span class="line">    --with-pcre=../pcre-4.4</span><br><span class="line">    --with-zlib=../zlib-1.1.3</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<h2 id="nginx添加模块"><a href="#nginx添加模块" class="headerlink" title="nginx添加模块"></a>nginx添加模块</h2><p>有时候我们已经编译好了nginx，但是后期需要添加一个未被编译的模块。</p>
<ul>
<li>以–with-http_realip_module为例演示说明。</li>
</ul>
<ol>
<li>查看当前nginx编译安装时安装了哪些模块</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nginx -V</span><br><span class="line">nginx version: nginx/1.12.2</span><br><span class="line">built by gcc 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC)</span><br><span class="line">built with OpenSSL 1.0.2k-fips</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --user=www --group=www --prefix=/usr/local/nginx --with-http_stub_status_module </span><br><span class="line">--with-http_ssl_module --with-http_v2_module --with-http_gzip_static_module --with-http_sub_module 等等</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>加入–with-http_sub_module模块，重新编译（<code>注意</code> 最后不需要执行make install）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx</span><br><span class="line">./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module </span><br><span class="line">--with-http_v2_module --with-http_gzip_static_module --with-http_sub_module --with-http_realip_module</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>在 [+<strong>原有参数</strong>+]–with-http_realip_module</p>
<ul>
<li>以第三方的替换模块:–ngx_http_substitutions_filter_module为例演示说明。<br>  经过测试，这个模块至少有如下实用功能：<br>  ①、支持多次替换<br>  ②、支持正则替换<br>  ③、支持中文替换<br>Ps：略有遗憾的是，这个替换不能使用到 if 判断模块内，否则就超神了。。。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /root/ </span><br><span class="line">wget -O ngx_http_substitutions_filter_module-master.zip https://github.com/yaoweibin/ngx_http_substitutions_filter_module/archive/master.zip</span><br><span class="line">unzip ngx_http_substitutions_filter_module-master.zip</span><br><span class="line">cd ngx_http_substitutions_filter_module-master &amp;&amp; pwd </span><br><span class="line">#/root/ngx_http_substitutions_filter_module-master</span><br></pre></td></tr></table></figure>
<ol>
<li>查看当前nginx编译安装模块</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nginx -V</span><br><span class="line">nginx version: nginx/1.12.2</span><br><span class="line">built by gcc 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC)</span><br><span class="line">built with OpenSSL 1.0.2k-fips</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --user=www --group=www --prefix=/usr/local/nginx --with-http_stub_status_module </span><br><span class="line">--with-http_ssl_module --with-http_v2_module --with-http_gzip_static_module --with-http_sub_module --with-http_realip_module 等等</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>加入–with-http_sub_module模块，重新编译（<code>注意</code> 最后不需要执行make install）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx</span><br><span class="line">./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module </span><br><span class="line">--with-http_v2_module --with-http_gzip_static_module --with-http_sub_module --with-http_realip_module </span><br><span class="line">--add-module=/root/ngx_http_substitutions_filter_module-master/</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>./configure [+<strong>原有参数</strong>+] –add-module=/root/ngx_http_substitutions_filter_module-master/</p>
<p><strong> 添加未被编译的模块和第三方模块 区别在 ./configure追加的信息 </strong></p>
<hr>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-04-09T07:44:24.240Z" itemprop="dateUpdated">2018-04-09 15:44:24</time>
</span><br>


        
        这里可以写作者留言.<a href="/2018/03/13/Nginx系列2/" target="_blank" rel="external">http://oleaster.cn/2018/03/13/Nginx系列2/</a>
        
    </div>
    
    <footer>
        <a href="http://oleaster.cn">
            <img src="/img/avatar.jpg" alt="Q·Man">
            Q·Man
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/">Nginx</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://oleaster.cn/2018/03/13/Nginx系列2/&title=《Nginx系列(2)安装》 — Jerry's Bolg&pic=http://oleaster.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://oleaster.cn/2018/03/13/Nginx系列2/&title=《Nginx系列(2)安装》 — Jerry's Bolg&source=一座城" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://oleaster.cn/2018/03/13/Nginx系列2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Nginx系列(2)安装》 — Jerry's Bolg&url=http://oleaster.cn/2018/03/13/Nginx系列2/&via=http://oleaster.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://oleaster.cn/2018/03/13/Nginx系列2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/03/14/Nginx系列3/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Nginx系列(3)日常维护常用命令</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/03/12/Nginx系列1/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Nginx系列(1)概述</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'true' == 'true',
            appId: "6rQLaNUqzbdwWsUWf1nYcyqO-gzGzoHsz",
            appKey: "7zLbzdLttc8RFYE01xaflU8C",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/hls.js/dist/hls.min.js"></script> 
<script src="/js/APlayer.min.js"></script>
<script src="/js/demo1.js"></script>
</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


    </div>
    <div class="bottom">
        <p><span>
		
		Powered by Q·Man
		
		
		&copy; 2018</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">京ICP备1234556号-1</a>
                	
            </span>
			 
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://oleaster.cn/2018/03/13/Nginx系列2/&title=《Nginx系列(2)安装》 — Jerry's Bolg&pic=http://oleaster.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://oleaster.cn/2018/03/13/Nginx系列2/&title=《Nginx系列(2)安装》 — Jerry's Bolg&source=一座城" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://oleaster.cn/2018/03/13/Nginx系列2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Nginx系列(2)安装》 — Jerry's Bolg&url=http://oleaster.cn/2018/03/13/Nginx系列2/&via=http://oleaster.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://oleaster.cn/2018/03/13/Nginx系列2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://oleaster.cn/2018/03/13/Nginx系列2/" alt="微信分享二维码">
</div>




    <script src="https://cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
